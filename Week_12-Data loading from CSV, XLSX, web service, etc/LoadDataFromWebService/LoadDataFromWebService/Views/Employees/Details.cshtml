@model LoadDataFromWebService.Controllers.EmployeeWithDetails

@{
    ViewBag.Title = "Employee details";
}

<h2>Employee details - @($"{Model.FirstName} {Model.LastName}")</h2>

<div>
    @*<h4>EmployeeWithDetails</h4>*@
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.LastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FirstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Title)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BirthDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BirthDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.HireDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.HireDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Address)
        </dt>

        <dd>
            @{
                var fullAddress = $"{Model.Address}, {Model.City}, {Model.State} {Model.PostalCode}, {Model.Country}";
            }
            @fullAddress
            @*@Html.DisplayFor(model => model.Address)*@
        </dd>

        @*<dt>
            @Html.DisplayNameFor(model => model.City)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.State)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.State)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Country)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Country)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PostalCode)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PostalCode)
        </dd>*@

        <dt>
            @Html.DisplayNameFor(model => model.Phone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Phone)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Fax)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Fax)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
            <hr>
        </dd>

        <dt>
            Reports to
        </dt>

        <dd>
            @{
                var reportsTo = "(none)";
                if (Model.ReportsTo != null)
                {
                    reportsTo = $"{Model.ReportsTo.FirstName} {Model.ReportsTo.LastName}, {Model.ReportsTo.Title}";
                }
            }
            @reportsTo
            <hr>
        </dd>

        <dt>
            Direct reports
        </dt>

        <dd>
            @if (Model.DirectReports.Count() == 0)
            {
                <span>(none)</span>
            }
            else
            {
                foreach (var item in Model.DirectReports)
                {
                    var dr = $"{item.FirstName} {item.LastName}, {item.Title}";
                    <span>@dr</span><br>
                }
            }
        </dd>

    </dl>
    <hr>
</div>
<p>
    @*@Html.ActionLink("Edit", "Edit", new { id = Model.EmployeeId }) |*@
    @Html.ActionLink("Back to List", "Index")
</p>
